# è½»é‡çº§äº‘ç›˜é¡¹ç›®

åŸºäº Next.js å’Œ Vercel Blob çš„è½»é‡çº§äº‘ç›˜ç³»ç»Ÿï¼Œæä¾›ç®€å•ç›´æ¥çš„æ–‡ä»¶å…±äº«æœåŠ¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ¨ é›¶é—¨æ§›è®¿é—®ï¼šé€šè¿‡é“¾æ¥å³å¯è®¿é—®ç‹¬ç«‹æ–‡ä»¶ç©ºé—´
- ğŸ“ æ–‡ä»¶ç®¡ç†ï¼šæ”¯æŒä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤æ–‡ä»¶
- ğŸ” æ–‡ä»¶æœç´¢ï¼šæ”¯æŒæ–‡ä»¶åæœç´¢å’Œæ’åº
- ğŸ“± å“åº”å¼è®¾è®¡ï¼šæ”¯æŒæ¡Œé¢ç«¯ã€å¹³æ¿ã€æ‰‹æœºç«¯è®¿é—®
- ğŸš€ æ‹–æ‹½ä¸Šä¼ ï¼šæ”¯æŒæ‹–æ‹½å’Œå¤šæ–‡ä»¶åŒæ—¶ä¸Šä¼ 
- ğŸ“Š ç©ºé—´ç»Ÿè®¡ï¼šæ˜¾ç¤ºæ–‡ä»¶æ•°é‡å’Œå­˜å‚¨ç”¨é‡
- ğŸ¨ ç°ä»£ UIï¼šåŸºäº shadcn/ui çš„ç®€æ´ç•Œé¢

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS
- **UI ç»„ä»¶**: shadcn/ui
- **å›¾æ ‡**: Lucide React
- **æ–‡ä»¶å­˜å‚¨**: Vercel Blob
- **éƒ¨ç½²å¹³å°**: Vercel

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. ç¯å¢ƒé…ç½®

å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š

```bash
cp .env.example .env.local
```

åœ¨ Vercel Dashboard ä¸­ï¼š
1. åˆ›å»ºé¡¹ç›®å¹¶éƒ¨ç½²
2. å‰å¾€ Storage æ ‡ç­¾é¡µ
3. åˆ›å»º Blob Store
4. å¤åˆ¶ `BLOB_READ_WRITE_TOKEN` åˆ° `.env.local`

### 3. å¼€å‘è¿è¡Œ

```bash
npm run dev
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹åº”ç”¨ã€‚

### 4. éƒ¨ç½²åˆ° Vercel

```bash
# ä½¿ç”¨ Vercel CLI
npm i -g vercel
vercel

# æˆ–è€…æ¨é€åˆ° GitHub å¹¶åœ¨ Vercel Dashboard ä¸­å¯¼å…¥
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ space/[spaceId]/
â”‚   â”‚   â””â”€â”€ page.tsx        # æ–‡ä»¶ç©ºé—´é¡µé¢
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ upload/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts    # æ–‡ä»¶ä¸Šä¼  API
â”‚   â”‚   â”œâ”€â”€ files/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts    # æ–‡ä»¶åˆ—è¡¨ API
â”‚   â”‚   â””â”€â”€ delete/
â”‚   â”‚       â””â”€â”€ route.ts    # æ–‡ä»¶åˆ é™¤ API
â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µï¼ˆé‡å®šå‘ï¼‰
â”‚   â””â”€â”€ globals.css        # å…¨å±€æ ·å¼
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                # shadcn/ui ç»„ä»¶
â”‚   â”œâ”€â”€ FileUploader.tsx   # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
â”‚   â”œâ”€â”€ FileList.tsx       # æ–‡ä»¶åˆ—è¡¨ç»„ä»¶
â”‚   â”œâ”€â”€ FileItem.tsx       # æ–‡ä»¶é¡¹ç»„ä»¶
â”‚   â””â”€â”€ SpaceInfo.tsx      # ç©ºé—´ä¿¡æ¯ç»„ä»¶
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ blob.ts           # Vercel Blob æ“ä½œ
â”‚   â”œâ”€â”€ utils.ts          # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types.ts          # ç±»å‹å®šä¹‰
â””â”€â”€ hooks/
    â”œâ”€â”€ useFileUpload.ts  # æ–‡ä»¶ä¸Šä¼ é’©å­
    â””â”€â”€ useFileList.ts    # æ–‡ä»¶åˆ—è¡¨é’©å­
```

## API æ¥å£

### ä¸Šä¼ æ–‡ä»¶
```
POST /api/upload
Content-Type: multipart/form-data

å‚æ•°ï¼š
- file: æ–‡ä»¶å¯¹è±¡
- spaceId: ç©ºé—´ID
```

### è·å–æ–‡ä»¶åˆ—è¡¨
```
GET /api/files?spaceId={spaceId}

è¿”å›ï¼š
- files: æ–‡ä»¶åˆ—è¡¨
- spaceStats: ç©ºé—´ç»Ÿè®¡ä¿¡æ¯
```

### åˆ é™¤æ–‡ä»¶
```
DELETE /api/delete
Content-Type: application/json

å‚æ•°ï¼š
- fileId: æ–‡ä»¶ID
```

## ä½¿ç”¨æ–¹å¼

1. **è®¿é—®æ–‡ä»¶ç©ºé—´**: é€šè¿‡ `https://your-domain.com/space/{spaceId}` è®¿é—®ç‰¹å®šç©ºé—´
2. **ä¸Šä¼ æ–‡ä»¶**: æ‹–æ‹½æ–‡ä»¶åˆ°ä¸Šä¼ åŒºåŸŸæˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶
3. **ç®¡ç†æ–‡ä»¶**: æŸ¥çœ‹ã€æœç´¢ã€æ’åºã€ä¸‹è½½ã€åˆ é™¤æ–‡ä»¶
4. **ç©ºé—´éš”ç¦»**: æ¯ä¸ª `spaceId` å¯¹åº”ç‹¬ç«‹çš„å­˜å‚¨ç©ºé—´

## é…ç½®è¯´æ˜

### æ–‡ä»¶é™åˆ¶
- æœ€å¤§æ–‡ä»¶å¤§å°: 10MB
- æ”¯æŒçš„æ–‡ä»¶ç±»å‹åœ¨ `src/app/api/upload/route.ts` ä¸­é…ç½®

### ç¯å¢ƒå˜é‡
```env
BLOB_READ_WRITE_TOKEN=your_vercel_blob_token_here
```

### Vercel é…ç½®
- ä¸Šä¼ æ¥å£è¶…æ—¶æ—¶é—´: 60ç§’
- å…¶ä»– API è¶…æ—¶æ—¶é—´: 30ç§’

## å®‰å…¨ç‰¹æ€§

- æ–‡ä»¶ç±»å‹ç™½åå•éªŒè¯
- æ–‡ä»¶å¤§å°é™åˆ¶
- ç©ºé—´å®Œå…¨éš”ç¦»
- æ–‡ä»¶åå®‰å…¨å¤„ç†
- è‡ªåŠ¨å»é‡å‘½å

## å¼€å‘å‘½ä»¤

```bash
# å¼€å‘ç¯å¢ƒ
npm run dev

# æ„å»º
npm run build

# ç”Ÿäº§ç¯å¢ƒè¿è¡Œ
npm run start

# ä»£ç æ£€æŸ¥
npm run lint

# ç±»å‹æ£€æŸ¥
npm run typecheck
```

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·åˆ›å»º Issue æˆ–è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚